<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gest√£o de Or√ßamentos para Eventos</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <!-- DataTables -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css">
    <!-- Custom CSS -->
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .main-content {
            flex: 1;
            padding: 20px;
        }

        .navbar-brand {
            font-weight: 700;
            color: var(--primary-color) !important;
        }

        .page-section {
            display: none;
        }

        .active-section {
            display: block;
        }

        .card {
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .card-evento {
            height: 100%;
        }

        .card-header {
            border-radius: 10px 10px 0 0 !important;
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .btn-success {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        .progress-bar {
            background-color: var(--primary-color);
        }

        .status-pendente {
            color: var(--warning-color);
        }

        .status-concluido {
            color: var(--secondary-color);
        }

        .status-atrasado {
            color: var(--danger-color);
        }

        .login-container {
            max-width: 400px;
            margin: 0 auto;
            padding: 30px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 100px;
        }

        .evento-box {
            position: relative;
            transition: all 0.3s ease;
            height: 100%;
        }

        .evento-status {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 15px;
            height: 15px;
            border-radius: 50%;
        }

        .status-ativo {
            background-color: var(--secondary-color);
        }

        .status-pendente {
            background-color: var(--warning-color);
        }

        .status-concluido {
            background-color: var(--primary-color);
        }

        .tab-content {
            padding: 20px;
            background-color: white;
            border: 1px solid #dee2e6;
            border-top: none;
            border-radius: 0 0 10px 10px;
        }

        .nav-tabs .nav-link.active {
            background-color: white;
            border-bottom-color: white;
        }

        .spinner-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .fornecedor-rating i {
            color: #ccc;
            cursor: pointer;
        }

        .fornecedor-rating i.active {
            color: #FFD700;
        }

        .servico-item {
            border-left: 4px solid var(--primary-color);
            padding-left: 10px;
            margin-bottom: 10px;
        }

        #aviso-configuracao {
            position: fixed;
            top: 70px;
            right: 20px;
            z-index: 1000;
        }

        /* Adicione ao CSS */
        .modal-success .modal-header {
            background-color: #198754;
            color: white;
        }

        .modal-danger .modal-header {
            background-color: #dc3545;
            color: white;
        }

        .modal-warning .modal-header {
            background-color: #ffc107;
            color: #212529;
        }

        .modal-info .modal-header {
            background-color: #0dcaf0;
            color: white;
        }

        /* Garantir visibilidade correta das se√ß√µes */
        .page-section {
            display: none !important;
        }

        .active-section {
            display: block !important;
        }

        /* Garante que o login est√° sempre vis√≠vel se nenhuma se√ß√£o estiver ativa */
        #app-section:not(.active-section) ~ #login-section {
            display: block !important;
        }
    </style>
    <style>
        .page-section {
            display: none !important;
        }
        
        .active-section {
            display: block !important;
        }
        
        /* Garantir que login e cadastro funcionem corretamente */
        #login-section.active-section,
        #cadastro-section.active-section {
            display: block !important;
            visibility: visible !important;
        }
    </style>
    <style>
        /* Adicione este CSS ao seu estilo existente */
        .page-section {
          display: none !important;
        }
        
        .active-section {
          display: block !important;
        }
        
        /* Estilos espec√≠ficos para as se√ß√µes de login e cadastro */
        #login-section.active-section,
        #cadastro-section.active-section {
          display: block !important;
          opacity: 1 !important;
          visibility: visible !important;
          height: auto !important;
          overflow: visible !important;
        }
      </style>
</head>
<body>
    <script>
        console.log('üîç Iniciando carregamento da p√°gina');
        
        // Capturar estados de exibi√ß√£o das se√ß√µes
        document.addEventListener('DOMContentLoaded', function() {
          console.log('‚úÖ DOM carregado');
          
          // Verificar se√ß√µes vis√≠veis a cada 500ms nos primeiros segundos
          let contador = 0;
          const intervalo = setInterval(function() {
            const secoes = document.querySelectorAll('.page-section');
            const secaoAtiva = document.querySelector('.active-section');
            
            console.log(`Verifica√ß√£o #${contador+1}: Se√ß√£o ativa:`, secaoAtiva ? secaoAtiva.id : 'nenhuma');
            
            contador++;
            if (contador >= 6) clearInterval(intervalo);
          }, 500);
        });
    </script>
    <!-- Spinner de Carregamento -->
    <div class="spinner-overlay" id="spinner" style="display: none;">
        <div class="spinner-border text-light" role="status">
            <span class="visually-hidden">Carregando...</span>
        </div>
    </div>

    <!-- Aviso de Configura√ß√£o -->
    <div id="aviso-configuracao" class="alert alert-warning alert-dismissible fade show" style="display: none;" role="alert">
        <strong>Aten√ß√£o!</strong> Configure o ID da planilha e a URL do Apps Script antes de come√ßar.
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fechar"></button>
    </div>

    <!-- Se√ß√£o de Login -->
    <div id="login-section" class="page-section active-section">
        <div class="container">
            <div class="alert alert-info text-center mb-4 primeiro-acesso" style="display: none;">
                <i class="bi bi-info-circle"></i> Este √© o primeiro acesso ao sistema. Por favor, crie sua conta de administrador.
            </div>
        <div class="container">
            <div class="login-container">
                <div class="text-center mb-4">
                    <h2 class="mb-3">Sistema de Gest√£o de Eventos</h2>
                    <p class="text-muted">Fa√ßa login para acessar o sistema</p>
                </div>
                <form id="login-form">
                    <div class="mb-3">
                        <label for="login-email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="login-email" required>
                    </div>
                    <div class="mb-3">
                        <label for="login-senha" class="form-label">Senha</label>
                        <input type="password" class="form-control" id="login-senha" required>
                    </div>
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary">Entrar</button>
                    </div>
                    <div class="text-center mt-3">
                        <a href="#" id="link-cadastro" class="text-decoration-none">N√£o tem conta? Cadastre-se</a>
                    </div>
                    <div class="mt-3" id="login-mensagem"></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o de Cadastro -->
    <div id="cadastro-section" class="page-section">
        <div class="container">
            <div class="login-container">
                <div class="text-center mb-4">
                    <h2 class="mb-3">Cadastre-se</h2>
                    <p class="text-muted">Crie sua conta para acessar o sistema</p>
                </div>
                <form id="cadastro-form">
                    <div class="mb-3">
                        <label for="cadastro-nome" class="form-label">Nome completo</label>
                        <input type="text" class="form-control" id="cadastro-nome" name="cadastro-nome" required>
                    </div>
                    <div class="mb-3">
                        <label for="cadastro-email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="cadastro-email" name="cadastro-email" required>
                    </div>
                    <div class="mb-3">
                        <label for="cadastro-senha" class="form-label">Senha</label>
                        <input type="password" class="form-control" id="cadastro-senha" name="cadastro-senha" required>
                    </div>
                    <div class="mb-3">
                        <label for="cadastro-confirma-senha" class="form-label">Confirmar senha</label>
                        <input type="password" class="form-control" id="cadastro-confirma-senha" name="cadastro-confirma-senha" required>
                    </div>
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary" id="btn-cadastrar">Cadastrar</button>
                    </div>
                    <div class="text-center mt-3">
                        <a href="#" id="link-login" class="text-decoration-none">J√° tem conta? Fa√ßa login</a>
                    </div>
                    <div class="mt-3" id="cadastro-mensagem"></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Layout Principal (ap√≥s login) -->
    <div id="app-section" class="page-section">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">
                    <i class="bi bi-calendar-event"></i> Gest√£o de Eventos
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="nav-eventos">Meus Eventos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="nav-fornecedores">Fornecedores</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="nav-financeiro">Financeiro</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="nav-configuracoes">Configura√ß√µes</a>
                        </li>
                        <li class="nav-item" id="nav-usuarios" style="display: none;">
                            <a class="nav-link" href="#" id="nav-usuarios-link">Usu√°rios</a>
                        </li>
                    </ul>
                    <div class="d-flex align-items-center">
                        <span class="me-3" id="usuario-logado">Ol√°, Usu√°rio</span>
                        <button class="btn btn-outline-danger btn-sm" id="btn-logout">
                            <i class="bi bi-box-arrow-right"></i> Sair
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <div class="main-content">
            <!-- P√°gina de Meus Eventos -->
            <div id="eventos-section" class="page-section active-section">
                <div class="container-fluid">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2>Meus Eventos</h2>
                        <button class="btn btn-primary" id="btn-novo-evento">
                            <i class="bi bi-plus-circle"></i> Novo Evento
                        </button>
                    </div>
                    <div class="row" id="lista-eventos">
                        <!-- Lista de eventos ser√° carregada dinamicamente aqui -->
                        <div class="col-12 text-center py-5" id="sem-eventos" style="display: none;">
                            <i class="bi bi-calendar-x" style="font-size: 48px; color: #ccc;"></i>
                            <h4 class="mt-3 text-muted">Voc√™ ainda n√£o possui eventos cadastrados</h4>
                            <button class="btn btn-primary mt-3" id="btn-primeiro-evento">
                                <i class="bi bi-plus-circle"></i> Criar meu primeiro evento
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- P√°gina de Novo Evento -->
            <div id="novo-evento-section" class="page-section">
                <div class="container-fluid">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2>Novo Evento</h2>
                        <button class="btn btn-outline-secondary" id="btn-voltar-eventos">
                            <i class="bi bi-arrow-left"></i> Voltar
                        </button>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <form id="form-novo-evento">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="nome-evento" class="form-label">Nome do Evento</label>
                                        <input type="text" class="form-control" id="nome-evento" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="tipo-evento" class="form-label">Tipo de Evento</label>
                                        <select class="form-select" id="tipo-evento" required>
                                            <option value="">Selecione...</option>
                                            <option value="Casamento">Casamento</option>
                                            <option value="Anivers√°rio">Anivers√°rio</option>
                                            <option value="Corporativo">Corporativo</option>
                                            <option value="Formatura">Formatura</option>
                                            <option value="Outro">Outro</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="data-evento" class="form-label">Data do Evento</label>
                                        <input type="date" class="form-control" id="data-evento" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="numero-convidados" class="form-label">N√∫mero de Convidados</label>
                                        <input type="number" class="form-control" id="numero-convidados" min="1" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="local-evento" class="form-label">Local do Evento</label>
                                        <input type="text" class="form-control" id="local-evento" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="orcamento-meta" class="form-label">Meta de Or√ßamento (R$)</label>
                                        <input type="number" class="form-control" id="orcamento-meta" min="0" step="0.01" required>
                                    </div>
                                    <div class="col-12 mb-3">
                                        <label for="descricao-evento" class="form-label">Descri√ß√£o do Evento</label>
                                        <textarea class="form-control" id="descricao-evento" rows="3"></textarea>
                                    </div>
                                </div>
                                <hr>
                                <h5 class="mb-3">Servi√ßos Necess√°rios</h5>
                                <div id="servicos-container">
                                    <div class="servico-item mb-3 p-3 border rounded">
                                        <div class="row align-items-center">
                                            <div class="col-md-5 mb-2 mb-md-0">
                                                <input type="text" class="form-control servico-nome" placeholder="Nome do servi√ßo" required>
                                            </div>
                                            <div class="col-md-5 mb-2 mb-md-0">
                                                <input type="text" class="form-control servico-descricao" placeholder="Descri√ß√£o">
                                            </div>
                                            <div class="col-md-2">
                                                <button type="button" class="btn btn-outline-danger btn-sm btn-remover-servico">
                                                    <i class="bi bi-trash"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-outline-primary btn-sm mb-4" id="btn-adicionar-servico">
                                    <i class="bi bi-plus-circle"></i> Adicionar Servi√ßo
                                </button>
                                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                    <button type="button" class="btn btn-outline-secondary me-md-2" id="btn-cancelar-evento">Cancelar</button>
                                    <button type="submit" class="btn btn-primary">Criar Evento</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- P√°gina de Usu√°rios (somente admin) -->
                <div id="usuarios-section" class="page-section">
                    <div class="container-fluid">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2>Gerenciamento de Usu√°rios</h2>
                            <button class="btn btn-primary" id="btn-novo-usuario">
                                <i class="bi bi-plus-circle"></i> Novo Usu√°rio
                            </button>
                        </div>
                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped table-hover" id="tabela-usuarios">
                                        <thead>
                                            <tr>
                                                <th>Nome</th>
                                                <th>Email</th>
                                                <th>Administrador</th>
                                                <th>Data de Cadastro</th>
                                                <th>A√ß√µes</th>
                                            </tr>
                                        </thead>
                                        <tbody id="lista-usuarios">
                                            <!-- Lista de usu√°rios ser√° carregada dinamicamente aqui -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- P√°gina de Detalhes do Evento -->
            <div id="detalhes-evento-section" class="page-section">
                <div class="container-fluid">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2 id="titulo-evento">Detalhes do Evento</h2>
                        <div>
                            <button class="btn btn-outline-danger me-2" id="btn-excluir-evento">
                                <i class="bi bi-trash"></i> Excluir
                            </button>
                            <button class="btn btn-outline-secondary" id="btn-voltar-detalhes">
                                <i class="bi bi-arrow-left"></i> Voltar
                            </button>
                        </div>
                    </div>
                    
                    <ul class="nav nav-tabs" id="eventoTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="info-tab" data-bs-toggle="tab" data-bs-target="#info-tab-pane" type="button" role="tab" aria-controls="info-tab-pane" aria-selected="true">Informa√ß√µes Gerais</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="servicos-tab" data-bs-toggle="tab" data-bs-target="#servicos-tab-pane" type="button" role="tab" aria-controls="servicos-tab-pane" aria-selected="false">Servi√ßos</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="orcamentos-tab" data-bs-toggle="tab" data-bs-target="#orcamentos-tab-pane" type="button" role="tab" aria-controls="orcamentos-tab-pane" aria-selected="false">Or√ßamentos</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="financeiro-tab" data-bs-toggle="tab" data-bs-target="#financeiro-tab-pane" type="button" role="tab" aria-controls="financeiro-tab-pane" aria-selected="false">Financeiro</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="anexos-tab" data-bs-toggle="tab" data-bs-target="#anexos-tab-pane" type="button" role="tab" aria-controls="anexos-tab-pane" aria-selected="false">Anexos</button>
                        </li>
                    </ul>
                    
                    <div class="tab-content" id="eventoTabsContent">
                        <!-- Aba de Informa√ß√µes Gerais -->
                        <div class="tab-pane fade show active" id="info-tab-pane" role="tabpanel" aria-labelledby="info-tab" tabindex="0">
                            <form id="form-edicao-evento">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="edit-nome-evento" class="form-label">Nome do Evento</label>
                                        <input type="text" class="form-control" id="edit-nome-evento" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="edit-tipo-evento" class="form-label">Tipo de Evento</label>
                                        <select class="form-select" id="edit-tipo-evento" required>
                                            <option value="">Selecione...</option>
                                            <option value="Casamento">Casamento</option>
                                            <option value="Anivers√°rio">Anivers√°rio</option>
                                            <option value="Corporativo">Corporativo</option>
                                            <option value="Formatura">Formatura</option>
                                            <option value="Outro">Outro</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="edit-data-evento" class="form-label">Data do Evento</label>
                                        <input type="date" class="form-control" id="edit-data-evento" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="edit-numero-convidados" class="form-label">N√∫mero de Convidados</label>
                                        <input type="number" class="form-control" id="edit-numero-convidados" min="1" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="edit-local-evento" class="form-label">Local do Evento</label>
                                        <input type="text" class="form-control" id="edit-local-evento" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="edit-orcamento-meta" class="form-label">Meta de Or√ßamento (R$)</label>
                                        <input type="number" class="form-control" id="edit-orcamento-meta" min="0" step="0.01" required>
                                    </div>
                                    <div class="col-12 mb-3">
                                        <label for="edit-descricao-evento" class="form-label">Descri√ß√£o do Evento</label>
                                        <textarea class="form-control" id="edit-descricao-evento" rows="3"></textarea>
                                    </div>
                                </div>
                                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                    <button type="submit" class="btn btn-success">Salvar Altera√ß√µes</button>
                                </div>
                            </form>
                        </div>
                        
                        <!-- Aba de Servi√ßos -->
                        <div class="tab-pane fade" id="servicos-tab-pane" role="tabpanel" aria-labelledby="servicos-tab" tabindex="0">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h5>Servi√ßos Necess√°rios</h5>
                                <button type="button" class="btn btn-primary btn-sm" id="btn-adicionar-servico-edit">
                                    <i class="bi bi-plus-circle"></i> Adicionar Servi√ßo
                                </button>
                            </div>
                            <div id="servicos-edit-container">
                                <!-- Lista de servi√ßos ser√° carregada dinamicamente aqui -->
                            </div>
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-3">
                                <button type="button" class="btn btn-success" id="btn-salvar-servicos">Salvar Altera√ß√µes</button>
                            </div>
                        </div>
                        
                        <!-- Aba de Or√ßamentos -->
                        <div class="tab-pane fade" id="orcamentos-tab-pane" role="tabpanel" aria-labelledby="orcamentos-tab" tabindex="0">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h5>Or√ßamentos</h5>
                                <button type="button" class="btn btn-primary btn-sm" id="btn-adicionar-orcamento">
                                    <i class="bi bi-plus-circle"></i> Adicionar Or√ßamento
                                </button>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover" id="tabela-orcamentos">
                                    <thead>
                                        <tr>
                                            <th>Servi√ßo</th>
                                            <th>Fornecedor</th>
                                            <th>Valor (R$)</th>
                                            <th>Data</th>
                                            <th>Status</th>
                                            <th>A√ß√µes</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lista-orcamentos">
                                        <!-- Lista de or√ßamentos ser√° carregada dinamicamente aqui -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Aba de Financeiro -->
                        <div class="tab-pane fade" id="financeiro-tab-pane" role="tabpanel" aria-labelledby="financeiro-tab" tabindex="0">
                            <div class="row mb-4">
                                <div class="col-md-4">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <h6 class="card-subtitle mb-2 text-muted">Meta de Or√ßamento</h6>
                                            <h3 class="card-title" id="valor-meta-orcamento">R$ 0,00</h3>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <h6 class="card-subtitle mb-2 text-muted">Total Previsto</h6>
                                            <h3 class="card-title" id="valor-total-previsto">R$ 0,00</h3>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <h6 class="card-subtitle mb-2 text-muted">Total Pago</h6>
                                            <h3 class="card-title" id="valor-total-pago">R$ 0,00</h3>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h5>Cronograma de Pagamentos</h5>
                                <button type="button" class="btn btn-primary btn-sm" id="btn-adicionar-pagamento">
                                    <i class="bi bi-plus-circle"></i> Adicionar Pagamento
                                </button>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover" id="tabela-pagamentos">
                                    <thead>
                                        <tr>
                                            <th>Descri√ß√£o</th>
                                            <th>Fornecedor</th>
                                            <th>Valor (R$)</th>
                                            <th>Data Vencimento</th>
                                            <th>Status</th>
                                            <th>A√ß√µes</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lista-pagamentos">
                                        <!-- Lista de pagamentos ser√° carregada dinamicamente aqui -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Aba de Anexos -->
                        <div class="tab-pane fade" id="anexos-tab-pane" role="tabpanel" aria-labelledby="anexos-tab" tabindex="0">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h5>Anexos de Or√ßamentos</h5>
                                <button type="button" class="btn btn-primary btn-sm" id="btn-adicionar-anexo">
                                    <i class="bi bi-plus-circle"></i> Adicionar Anexo
                                </button>
                            </div>
                            <div class="row" id="lista-anexos">
                                <!-- Lista de anexos ser√° carregada dinamicamente aqui -->
                                <div class="col-12 text-center py-5" id="sem-anexos">
                                    <i class="bi bi-file-earmark-x" style="font-size: 48px; color: #ccc;"></i>
                                    <h5 class="mt-3 text-muted">Nenhum anexo cadastrado</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- P√°gina de Fornecedores -->
            <div id="fornecedores-section" class="page-section">
                <div class="container-fluid">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2>Fornecedores</h2>
                        <button class="btn btn-primary" id="btn-novo-fornecedor">
                            <i class="bi bi-plus-circle"></i> Novo Fornecedor
                        </button>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-hover" id="tabela-fornecedores">
                                    <thead>
                                        <tr>
                                            <th>Nome</th>
                                            <th>Categoria</th>
                                            <th>Contato</th>
                                            <th>Email</th>
                                            <th>Telefone</th>
                                            <th>Avalia√ß√£o</th>
                                            <th>A√ß√µes</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lista-fornecedores">
                                        <!-- Lista de fornecedores ser√° carregada dinamicamente aqui -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- P√°gina de Financeiro -->
            <div id="financeiro-section" class="page-section">
                <div class="container-fluid">
                    <h2 class="mb-4">Financeiro</h2>
                    <div class="row mb-4">
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-body text-center">
                                    <h6 class="card-subtitle mb-2 text-muted">Total de Eventos</h6>
                                    <h3 class="card-title" id="total-eventos">0</h3>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-body text-center">
                                    <h6 class="card-subtitle mb-2 text-muted">Or√ßamento Total</h6>
                                    <h3 class="card-title" id="orcamento-total">R$ 0,00</h3>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-body text-center">
                                    <h6 class="card-subtitle mb-2 text-muted">Total Pago</h6>
                                    <h3 class="card-title" id="total-pago">R$ 0,00</h3>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h4 class="mb-3">Pagamentos Pendentes</h4>
                    <div class="card mb-4">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-hover" id="tabela-pagamentos-pendentes">
                                    <thead>
                                        <tr>
                                            <th>Evento</th>
                                            <th>Descri√ß√£o</th>
                                            <th>Fornecedor</th>
                                            <th>Valor (R$)</th>
                                            <th>Data Vencimento</th>
                                            <th>A√ß√µes</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lista-pagamentos-pendentes">
                                        <!-- Lista de pagamentos pendentes ser√° carregada dinamicamente aqui -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <h4 class="mb-3">Or√ßamento por Evento</h4>
                    <div class="card">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-hover" id="tabela-orcamento-eventos">
                                    <thead>
                                        <tr>
                                            <th>Evento</th>
                                            <th>Data</th>
                                            <th>Meta de Or√ßamento</th>
                                            <th>Total Or√ßado</th>
                                            <th>Total Pago</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody id="lista-orcamento-eventos">
                                        <!-- Lista de or√ßamentos por evento ser√° carregada dinamicamente aqui -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- P√°gina de Configura√ß√µes -->
            <div id="configuracoes-section" class="page-section">
                <div class="container-fluid">
                    <h2 class="mb-4">Configura√ß√µes</h2>
                    <div class="card">
                        <div class="card-body">
                            <form id="form-configuracoes">
                                <div class="mb-3">
                                    <label for="planilha-id" class="form-label">ID da Planilha Google Sheets</label>
                                    <input type="text" class="form-control" id="planilha-id" placeholder="Ex: 1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms">
                                    <div class="form-text">O ID est√° na URL da planilha: docs.google.com/spreadsheets/d/<span class="text-danger">ID_DA_PLANILHA</span>/edit</div>
                                </div>
                                <div class="mb-3">
                                    <label for="script-url" class="form-label">URL do Google Apps Script</label>
                                    <input type="text" class="form-control" id="script-url" placeholder="Ex: https://script.google.com/macros/s/AKfycbwxk7c3GvMfIhg_lkgSAwtTuptqGkTB7Epyuqk5Co08E1hf1UwMBVCAn5rOhVnGk975HQ/exec">
                                </div>
                                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                    <button type="button" class="btn btn-outline-secondary me-md-2" id="btn-teste-conexao">Testar Conex√£o</button>
                                    <button type="submit" class="btn btn-primary">Salvar Configura√ß√µes</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    
                    <div class="card mt-4">
                        <div class="card-header">
                            Sobre o Sistema
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">Sistema de Gest√£o de Or√ßamentos para Eventos</h5>
                            <p class="card-text">Este sistema permite gerenciar eventos, fornecedores, or√ßamentos e pagamentos com integra√ß√£o ao Google Sheets.</p>
                            <p class="card-text">Vers√£o: 1.0.0</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modais -->
    <!-- Modal de Novo Fornecedor -->
    <div class="modal fade" id="modal-fornecedor" tabindex="-1" aria-labelledby="modal-fornecedor-label" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal-fornecedor-label">Novo Fornecedor</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="form-fornecedor">
                        <input type="hidden" id="fornecedor-id">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="fornecedor-nome" class="form-label">Nome</label>
                                <input type="text" class="form-control" id="fornecedor-nome" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="fornecedor-categoria" class="form-label">Categoria</label>
                                <select class="form-select" id="fornecedor-categoria" required>
                                    <option value="">Selecione...</option>
                                    <option value="Buffet">Buffet</option>
                                    <option value="Decora√ß√£o">Decora√ß√£o</option>
                                    <option value="Fotografia">Fotografia</option>
                                    <option value="M√∫sica">M√∫sica</option>
                                    <option value="Local">Local</option>
                                    <option value="Outro">Outro</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="fornecedor-contato" class="form-label">Nome do Contato</label>
                                <input type="text" class="form-control" id="fornecedor-contato">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="fornecedor-email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="fornecedor-email">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="fornecedor-telefone" class="form-label">Telefone</label>
                                <input type="text" class="form-control" id="fornecedor-telefone">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="fornecedor-avaliacao" class="form-label">Avalia√ß√£o</label>
                                <div class="fornecedor-rating" id="fornecedor-avaliacao">
                                    <i class="bi bi-star" data-rating="1"></i>
                                    <i class="bi bi-star" data-rating="2"></i>
                                    <i class="bi bi-star" data-rating="3"></i>
                                    <i class="bi bi-star" data-rating="4"></i>
                                    <i class="bi bi-star" data-rating="5"></i>
                                </div>
                                <input type="hidden" id="fornecedor-rating-value" value="0">
                            </div>
                            <div class="col-12 mb-3">
                                <label for="fornecedor-observacoes" class="form-label">Observa√ß√µes</label>
                                <textarea class="form-control" id="fornecedor-observacoes" rows="3"></textarea>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="btn-salvar-fornecedor">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Or√ßamento -->
    <div class="modal fade" id="modal-orcamento" tabindex="-1" aria-labelledby="modal-orcamento-label" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal-orcamento-label">Novo Or√ßamento</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="form-orcamento">
                        <input type="hidden" id="orcamento-id">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="orcamento-servico" class="form-label">Servi√ßo</label>
                                <select class="form-select" id="orcamento-servico" required>
                                    <option value="">Selecione um servi√ßo...</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="orcamento-fornecedor" class="form-label">Fornecedor</label>
                                <select class="form-select" id="orcamento-fornecedor" required>
                                    <option value="">Selecione um fornecedor...</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="orcamento-valor" class="form-label">Valor (R$)</label>
                                <input type="number" class="form-control" id="orcamento-valor" min="0" step="0.01" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="orcamento-data" class="form-label">Data</label>
                                <input type="date" class="form-control" id="orcamento-data" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="orcamento-status" class="form-label">Status</label>
                                <select class="form-select" id="orcamento-status" required>
                                    <option value="Pendente">Pendente</option>
                                    <option value="Aprovado">Aprovado</option>
                                    <option value="Rejeitado">Rejeitado</option>
                                </select>
                            </div>
                            <div class="col-12 mb-3">
                                <label for="orcamento-detalhes" class="form-label">Detalhes</label>
                                <textarea class="form-control" id="orcamento-detalhes" rows="3"></textarea>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="btn-salvar-orcamento">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Pagamento -->
    <div class="modal fade" id="modal-pagamento" tabindex="-1" aria-labelledby="modal-pagamento-label" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal-pagamento-label">Novo Pagamento</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="form-pagamento">
                        <input type="hidden" id="pagamento-id">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="pagamento-descricao" class="form-label">Descri√ß√£o</label>
                                <input type="text" class="form-control" id="pagamento-descricao" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="pagamento-fornecedor" class="form-label">Fornecedor</label>
                                <select class="form-select" id="pagamento-fornecedor" required>
                                    <option value="">Selecione um fornecedor...</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="pagamento-valor" class="form-label">Valor (R$)</label>
                                <input type="number" class="form-control" id="pagamento-valor" min="0" step="0.01" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="pagamento-vencimento" class="form-label">Data de Vencimento</label>
                                <input type="date" class="form-control" id="pagamento-vencimento" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="pagamento-status" class="form-label">Status</label>
                                <select class="form-select" id="pagamento-status" required>
                                    <option value="Pendente">Pendente</option>
                                    <option value="Pago">Pago</option>
                                    <option value="Atrasado">Atrasado</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="pagamento-data-pagamento" class="form-label">Data de Pagamento</label>
                                <input type="date" class="form-control" id="pagamento-data-pagamento">
                            </div>
                            <div class="col-12 mb-3">
                                <label for="pagamento-observacoes" class="form-label">Observa√ß√µes</label>
                                <textarea class="form-control" id="pagamento-observacoes" rows="3"></textarea>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="btn-salvar-pagamento">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Anexo -->
    <div class="modal fade" id="modal-anexo" tabindex="-1" aria-labelledby="modal-anexo-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal-anexo-label">Novo Anexo</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="form-anexo">
                        <input type="hidden" id="anexo-id">
                        <div class="mb-3">
                            <label for="anexo-titulo" class="form-label">T√≠tulo</label>
                            <input type="text" class="form-control" id="anexo-titulo" required>
                        </div>
                        <div class="mb-3">
                            <label for="anexo-tipo" class="form-label">Tipo</label>
                            <select class="form-select" id="anexo-tipo" required>
                                <option value="">Selecione...</option>
                                <option value="Or√ßamento">Or√ßamento</option>
                                <option value="Contrato">Contrato</option>
                                <option value="Nota Fiscal">Nota Fiscal</option>
                                <option value="Outro">Outro</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="anexo-url" class="form-label">URL do Documento</label>
                            <input type="url" class="form-control" id="anexo-url" placeholder="https://drive.google.com/file/..." required>
                            <div class="form-text">Adicione um link para o documento (Google Drive, Dropbox, etc.)</div>
                        </div>
                        <div class="mb-3">
                            <label for="anexo-descricao" class="form-label">Descri√ß√£o</label>
                            <textarea class="form-control" id="anexo-descricao" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="btn-salvar-anexo">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Confirma√ß√£o de Exclus√£o -->
    <div class="modal fade" id="modal-confirmacao" tabindex="-1" aria-labelledby="modal-confirmacao-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal-confirmacao-label">Confirmar Exclus√£o</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id="mensagem-confirmacao">Tem certeza que deseja excluir este item?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="btn-confirmar-exclusao">Excluir</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Alerta -->
    <div class="modal fade" id="modal-alerta" tabindex="-1" aria-labelledby="modal-alerta-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal-alerta-label">Aviso</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id="mensagem-alerta"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal de Novo Usu√°rio -->
    <div class="modal fade" id="modal-usuario" tabindex="-1" aria-labelledby="modal-usuario-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal-usuario-label">Novo Usu√°rio</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="form-usuario">
                        <input type="hidden" id="usuario-id">
                        <div class="mb-3">
                            <label for="novo-usuario-nome" class="form-label">Nome completo</label>
                            <input type="text" class="form-control" id="novo-usuario-nome" required>
                        </div>
                        <div class="mb-3">
                            <label for="novo-usuario-email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="novo-usuario-email" required>
                        </div>
                        <div class="mb-3">
                            <label for="novo-usuario-senha" class="form-label">Senha</label>
                            <input type="password" class="form-control" id="novo-usuario-senha" required>
                            <div class="form-text">A senha deve ter pelo menos 6 caracteres.</div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="btn-salvar-usuario">Salvar</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <!-- DataTables -->
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
    <!-- Moment.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- API Script -->
    <script src="api.js"></script>
    <script src="auth.js"></script>
    <script src="script.js"></script>
</body>
</html>